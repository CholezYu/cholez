import{_ as e,c as i,m as s,a,J as p,a4 as l,o as t,E as d}from"./chunks/framework.B5RDkS33.js";const A=JSON.parse('{"title":"第二周","description":"","frontmatter":{},"headers":[],"relativePath":"life/2024/Jul/week-2.md","filePath":"life/2024/Jul/week-2.md","lastUpdated":1720520850000}'),h={name:"life/2024/Jul/week-2.md"},o=s("h1",{id:"第二周",tabindex:"-1"},[a("第二周 "),s("a",{class:"header-anchor",href:"#第二周","aria-label":'Permalink to "第二周"'},"​")],-1),r={id:"周二-tue",tabindex:"-1"},c=s("a",{class:"header-anchor",href:"#周二-tue","aria-label":'Permalink to "周二 Tue. <Badge type="info" text="07-09" />"'},"​",-1),k=l(`<h3 id="rn-打包生成-apk" tabindex="-1">RN 打包生成 apk <a class="header-anchor" href="#rn-打包生成-apk" aria-label="Permalink to &quot;RN 打包生成 apk&quot;">​</a></h3><p>生成签名密钥。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keytool</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -genkeypair</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -storetype</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PKCS12</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -keystore</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-upload-key.keystore</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-key-alias</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -keyalg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RSA</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -keysize</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2048</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -validity</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10000</span></span></code></pre></div><p>设置 gradle 变量。</p><div class="language-gradle.properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gradle.properties</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>MYAPP_UPLOAD_STORE_FILE=my-upload-key.keystore</span></span>
<span class="line"><span>MYAPP_UPLOAD_KEY_ALIAS=my-key-alias</span></span>
<span class="line"><span>MYAPP_UPLOAD_STORE_PASSWORD=*****</span></span>
<span class="line"><span>MYAPP_UPLOAD_KEY_PASSWORD=*****</span></span></code></pre></div><p>把签名配置添加到 gradle 配置中。</p><div class="language-build.gradle vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">build.gradle</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>android {</span></span>
<span class="line"><span>    ...</span></span>
<span class="line"><span>    defaultConfig { ... }</span></span>
<span class="line"><span>    signingConfigs {</span></span>
<span class="line"><span>        release {</span></span>
<span class="line"><span>            if (project.hasProperty(&#39;MYAPP_UPLOAD_STORE_FILE&#39;)) {</span></span>
<span class="line"><span>                storeFile file(MYAPP_UPLOAD_STORE_FILE)</span></span>
<span class="line"><span>                storePassword MYAPP_UPLOAD_STORE_PASSWORD</span></span>
<span class="line"><span>                keyAlias MYAPP_UPLOAD_KEY_ALIAS</span></span>
<span class="line"><span>                keyPassword MYAPP_UPLOAD_KEY_PASSWORD</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    buildTypes {</span></span>
<span class="line"><span>        release {</span></span>
<span class="line"><span>            ...</span></span>
<span class="line"><span>            signingConfig signingConfigs.release</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>生成 apk 包。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> assembleRelease</span></span></code></pre></div><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p></p><p>下载过程中很可能出现网络延迟，所以需要提前下载 <code>gradle-8.6-all</code>，添加到 <code>gradle/wrapper</code> 中。</p></div>`,10);function g(_,y,F,C,u,P){const n=d("Badge");return t(),i("div",null,[o,s("h2",r,[a("周二 Tue. "),p(n,{type:"info",text:"07-09"}),a(),c]),k])}const m=e(h,[["render",g]]);export{A as __pageData,m as default};
